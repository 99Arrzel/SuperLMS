"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[575],{575:(e,r,t)=>{t.r(r),t.d(r,{default:()=>_});var n=t(8222),o={class:"flex flex-col"},u={class:"mr-auto"},a={class:"mx-auto mb-2"},i={class:"text-2xl text-white text-center"},s={class:"w-11/12 mx-auto"},c=(0,n.createTextVNode)(" Para asignar "),l=(0,n.createTextVNode)(" Asignados ");var d=t(3541),p=t(2262);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const g={components:{PickList:d.Z},props:{curso:{type:Object,default:{}},usuarios:{type:Array,default:[]},cursos:{type:Array,default:[]}},emits:["go_back","sincronizar"],setup:function(e,r){var t=r.emit,n=(0,p.Fl)({get:function(){return o.usuarios_x?o.usuarios_x:[e.usuarios.map((function(e){return b({label:e.persona.nombre+" "+e.persona.apellido_p,value:e.id_usuario},e)})).filter((function(r){return!e.curso.usuarios.some((function(e){return e.id_usuario==r.id_usuario}))})),e.curso.usuarios.map((function(r){var t=e.usuarios.find((function(e){return e.id_usuario==r.id_usuario}));return b({label:t.persona.nombre+" "+t.persona.apellido_p,value:t.id_usuario},t)}))]},set:function(e){o.usuarios_x=e}}),o=(0,p.qj)({usuario_seleccionado:{},usuarios_x:null}),u=function(e,r){return e.length===r.length&&e.every((function(e,t){return e===r[t]}))};return{sincronizar:function(){if(null!=o.usuarios_x){var r=e.cursos.find((function(r){return r.id_curso==e.curso.id_curso})).usuarios.map((function(e){return e.id_usuario})),n=o.usuarios_x[1].map((function(e){return e.value}));u(r,n)||t("sincronizar",{id_curso:e.curso.id_curso,usuarios:n})}},log:function(e){console.log(e)},valores:o,usuarios_t:n,go_back:function(){t("go_back")}}}};const _=(0,t(3744).Z)(g,[["render",function(e,r,t,d,p,f){var b,m=(0,n.resolveComponent)("PickList");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("button",{class:"m-2 p-2 bg-blue-600 rounded-lg text-white",onClick:r[0]||(r[0]=function(){return d.go_back&&d.go_back.apply(d,arguments)})}," Regresar ")]),(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("p",i," EstÃ¡s asignando usuarios al aula "+(0,n.toDisplayString)(null===(b=t.curso.plantilla)||void 0===b?void 0:b.nombre),1)]),(0,n.createElementVNode)("div",s,[(0,n.createVNode)(m,{modelValue:d.usuarios_t,"onUpdate:modelValue":r[1]||(r[1]=function(e){return d.usuarios_t=e}),dataKey:"value",onSelectionChange:d.sincronizar,stripedRows:!0},{sourceheader:(0,n.withCtx)((function(){return[c]})),targetheader:(0,n.withCtx)((function(){return[l]})),item:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.item.label+" - "+e.item.rol.nombre),1)]})),_:1},8,["modelValue","onSelectionChange"])])])}]])}}]);