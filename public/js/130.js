"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[130,38],{8130:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var r=o(8222),l=(0,r.createElementVNode)("p",{class:"text-5xl text-variable text-center"},"Roles de usuario",-1),n={class:"flex md:flex-row flex-col m-2"},a={class:"sm:basis-6/12"},s=(0,r.createElementVNode)("p",{class:"text-variable"},"Añade roles!",-1),d={class:"flex md:flex-row flex-col"},i={class:"mr-auto"},c={class:"p-input-icon-right"},u=(0,r.createElementVNode)("i",{class:"pi pi-search"},null,-1),m={class:"flex sm:flex-row sm:ml-auto flex-col"},f=["disabled"],p={class:"sm:basis-6/12 flex flex-col"},v=(0,r.createElementVNode)("div",{class:"mx-auto"},[(0,r.createElementVNode)("p",{class:"text-center text-variable text-3xl"},"Añade roles")],-1),b={class:"mx-auto m-4"},h={class:"w-full flex flex-row"};var x=o(8094),g=o(5247),N=o(4038),V=o(6076),E=o(6358),C=o(3609),w=o(8642),k=o(1533),y=o(9680),_=o(9669),S=o.n(_);const B={layout:N.default,props:{usuario:{type:Object,default:{}},roles:{type:Array,default:[]}},components:{InputText:V.Z,NavBar:N.default,DataTable:x.Z,Column:g.Z,Dialog:C.Z},setup:function(e){var t=(0,r.reactive)({global:{value:"",matchMode:E.a6.Contains}}),o=(0,r.reactive)({nombre:""}),l=(0,r.reactive)({rol_seleccionado:[]});return{delete_p:function(){w.Confirm.init({titleColor:"#FF0000",messageColor:"#FF0000",okButtonBackground:"#FF0000"}),w.Confirm.show("¿Estas seguro de eliminar el rol ".concat(l.rol_seleccionado.nombre,"?"),"Estás a punto de eliminar un rol","Eliminar","Cancelar",(function(){k.Loading.standard({clickToClose:!1,svgSize:"200"}),S().post(route("dashboard_adm_roles_eliminar"),{id:l.rol_seleccionado.id_rol}).then((function(e){e.data.success?(y.Inertia.reload({only:["roles"],preserveState:!1,preserveScroll:!0,onSuccess:function(){k.Loading.remove()}}),k.Notify.success(e.data.message)):(k.Loading.remove(),k.Notify.failure(e.data.message))}))}))},onCellEditComplete:function(e){k.Loading.standard({clickToClose:!1,svgSize:"200"}),S().post(route("dashboard_adm_roles_actualizar"),{id:e.data.id_rol,nombre:e.newValue}).then((function(e){e.data.success?(y.Inertia.reload({only:["roles"],preserveState:!1,preserveScroll:!0,onSuccess:function(){k.Loading.remove()}}),k.Notify.success(e.data.message)):(k.Notify.failure(e.data.message),k.Loading.remove())}))},crearNuevo:function(){""==o.nombre||o.nombre.length<3?k.Notify.failure("El nombre debe ser de 3 digitos o más"):e.roles.find((function(e){return e.nombre==o.nombre}))?k.Notify.failure("El nombre debe ser único"):(k.Loading.standard({clickToClose:!1,svgSize:"200"}),S().post(route("dashboard_adm_roles_crear"),{nombre:o.nombre}).then((function(e){e.data.success?(y.Inertia.reload({only:["roles"],preserveState:!1,preserveScroll:!0,onSuccess:function(){k.Loading.remove()}}),k.Notify.success(e.data.message)):(k.Loading.remove(),k.Notify.failure(e.data.message))})))},form_r:o,valores:l,filters:t}}};const T=(0,o(3744).Z)(B,[["render",function(e,t,o,x,g,N){var V=(0,r.resolveComponent)("InputText"),E=(0,r.resolveComponent)("Column"),C=(0,r.resolveComponent)("DataTable");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[l,(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createVNode)(C,{value:o.roles,paginator:!0,selectionMode:"single",rows:10,scrollable:!0,filters:x.filters,"onUpdate:filters":t[2]||(t[2]=function(e){return x.filters=e}),selection:x.valores.rol_seleccionado,"onUpdate:selection":t[3]||(t[3]=function(e){return x.valores.rol_seleccionado=e}),editMode:"cell",onCellEditComplete:x.onCellEditComplete},{empty:(0,r.withCtx)((function(){return[s]})),header:(0,r.withCtx)((function(){var e;return[(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("span",c,[u,(0,r.createVNode)(V,{id:"search",modelValue:x.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.filters.global.value=e})},null,8,["modelValue"])])]),(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return x.delete_p()}),class:"m-1 disabled:bg-gray-500 text-base bg-red-500 hover:bg-red-700 text-variable font-bold py-2 px-4 rounded",disabled:!(Object.keys(null!==(e=x.valores.rol_seleccionado)&&void 0!==e?e:{}).length>0)}," Eliminar ",8,f)])])]})),default:(0,r.withCtx)((function(){return[(0,r.createVNode)(E,{field:"nombre",header:"Nombre",sorteable:!0},{editor:(0,r.withCtx)((function(e){return[(0,r.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,r.createVNode)(E,{field:"created_at",header:"Creado en"}),(0,r.createVNode)(E,{field:"updated_at",header:"Actualizado en"})]})),_:1},8,["value","filters","selection","onCellEditComplete"])]),(0,r.createElementVNode)("div",p,[v,(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("div",h,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"w-5/5 py-2 text-center rounded-tl-lg rounded-bl-lg","onUpdate:modelValue":t[4]||(t[4]=function(e){return x.form_r.nombre=e})},null,512),[[r.vModelText,x.form_r.nombre]]),(0,r.createElementVNode)("button",{onClick:t[5]||(t[5]=function(e){return x.crearNuevo()}),class:"disabled:bg-gray-500 text-base bg-green-500 hover:bg-green-700 text-variable font-bold py-2 px-4 rounded-tr-lg rounded-br-lg"}," Crear ")])])])])],64)}]])},4038:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var r=o(8222),l={class:"flex flex-wrap items-center justify-between w-full py-4 md:py-0 px-4 text-lg text-gray-700 bg-white"},n=(0,r.createElementVNode)("p",{class:"text-5xl"},"TUNOMBREAQUI",-1),a={class:"text-cyan-400"},s=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)],d={class:"pt-4 text-base text-gray-700 md:flex md:justify-between md:pt-0"},i={key:0},c={class:"md:p-4 block"},u=(0,r.createElementVNode)("a",{class:"text-gray-700 hover:text-red-400"},"Admin",-1),m={class:"self-center"},f={class:"md:p-4 py-2 block"},p=(0,r.createElementVNode)("a",{class:"text-red-700 hover:text-red-400"},"Cerrar sesión",-1),v=["href"];o(1645),o(8957),o(7887);var b=o(2262),h=o(9680),x=o(7712),g=o(4325),N=o(6663),V=o(7915);history.pushState(null,document.title,location.href),window.addEventListener("popstate",(function(){history.pushState(null,document.title,location.href)}));const E={directives:{Tooltip:V.Z},props:{usuario:{type:Object,default:{}}},components:{InputSwitch:N.Z,SplitButton:x.Z,Button:g.Z},setup:function(){var e=(0,r.ref)([{label:"Personas",command:function(){h.Inertia.visit(route("dashboard_adm_personas"))}},{label:"Usuarios",command:function(){h.Inertia.visit(route("dashboard_adm_usuarios"))}},{label:"Roles",command:function(){h.Inertia.visit(route("dashboard_adm_roles"))}},{label:"Crear Aulas",command:function(){h.Inertia.visit(route("dashboard_adm_cursos"))}}]),t=(0,b.qj)({show:!0});return{data:(0,b.qj)({dark:!0}),menuOptions:t,redirectTo:function(e){h.Inertia.visit(route(e))},urlsAdmin:e}}};const C=(0,o(3744).Z)(E,[["render",function(e,t,o,b,h,x){var g=(0,r.resolveComponent)("Button"),N=(0,r.resolveComponent)("SplitButton"),V=(0,r.resolveComponent)("InputSwitch"),E=(0,r.resolveDirective)("tooltip");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("header",null,[(0,r.createElementVNode)("nav",l,[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("a",{onClick:t[0]||(t[0]=function(e){return b.redirectTo("home")})},[n,(0,r.createElementVNode)("p",a," Bienvenido "+(0,r.toDisplayString)(o.usuario.persona.nombre),1)])]),((0,r.openBlock)(),(0,r.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"menu-button",onClick:t[1]||(t[1]=function(e){return b.menuOptions.show=!b.menuOptions.show}),class:"h-6 w-6 cursor-pointer md:hidden block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s)),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)("w-full md:flex md:items-center md:w-auto"+(b.menuOptions.show?" hidden":"")),id:"menu"},[(0,r.createElementVNode)("ul",d,[1==o.usuario.id_rol?((0,r.openBlock)(),(0,r.createElementBlock)("li",i,[(0,r.createElementVNode)("a",c,[(0,r.createVNode)(N,{model:b.urlsAdmin,class:"p-button-md p-button-text p-button-secondary"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(g,{onClick:t[2]||(t[2]=function(e){return b.redirectTo("dashboard-adm")})},{default:(0,r.withCtx)((function(){return[u]})),_:1})]})),_:1},8,["model"])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("li",m,[(0,r.withDirectives)((0,r.createVNode)(V,{modelValue:b.data.dark,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.data.dark=e})},null,8,["modelValue"]),[[E,b.data.dark?"Modo light":"Modo dark",void 0,{bottom:!0}]])]),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",f,[(0,r.createVNode)(g,{class:"p-button-md p-button-text p-button-secondary",onClick:t[4]||(t[4]=function(e){return b.redirectTo("logout")})},{default:(0,r.withCtx)((function(){return[p]})),_:1})])])])],2)])]),(0,r.createElementVNode)("link",{href:b.data.dark?"/css/dark.css":"/css/light.css",rel:"stylesheet"},null,8,v),(0,r.createElementVNode)("article",null,[(0,r.renderSlot)(e.$slots,"default")])],64)}]])}}]);