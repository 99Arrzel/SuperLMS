"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[604,487],{604:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(8222),o={key:0,class:"px-4 mt-2"},a=(0,n.createElementVNode)("p",{class:"text-white text-3xl mb-2"},"Mis cursos",-1),l={class:"flex flex-row flex-wrap gap-4 justify-center"},i=["src"],c={class:"flex flex-wrap gap-1"},s=["onClick"],u=["onClick"],d={key:1},p=[(0,n.createElementVNode)("p",{class:"text-white text-3xl text-center"}," Vaya... parece que aún no te asignan cursos. ",-1)],m={key:0,class:"flex flex-wrap justify-center gap-2"},f=(0,n.createElementVNode)("p",null,"Nombre*",-1),b=(0,n.createElementVNode)("p",null,"URL*",-1),h=(0,n.createTextVNode)(" Ups, sin enlaces aún "),v=["href"],x=["onClick"],N=(0,n.createTextVNode)(" Ups, sin participantes aún ");var w=r(7487),V=r(8382),E=r(4325),C=r(9680),k=r(3609),_=r(8094),g=r(5247),y=r(6076),B=r(1533);const S={components:{InputText:y.Z,DataTable:_.Z,Column:g.Z,Dialog:k.Z,sbar:w.default,Card:V.Z,Button:E.Z},props:{usuario:{type:Object,required:!1}},setup:function(e){var t=(0,n.reactive)({enlaces:[],id_curso:"",mostrarEnlaces:!1,nombre:"",mostrarParticipantes:!1,participantes:[],url:""});return{eliminarEnlace:function(r){C.Inertia.post(route("enlace.eliminar"),{id_enlace_plataforma:r},{preserveScroll:!0,preserveState:!0,onSuccess:function(){B.Notify.success("Enlace eliminado");var r=e.usuario.cursos.filter((function(e){return e.id_curso==t.id_curso}));console.log(r[0]),t.enlaces=r[0].enlaces_plataformas,t.nombre="",t.url=""},onError:function(){B.Notify.error("Error al eliminar enlace")}})},crearEnlace:function(){""!=t.nombre.trim()&&""!=t.url.trim()?C.Inertia.post(route("enlace.crear"),{id_curso:t.id_curso,nombre:t.nombre,url:t.url},{preserveScroll:!0,preserveState:!0,onSuccess:function(){B.Notify.success("Enlace creado");var r=e.usuario.cursos.filter((function(e){return e.id_curso==t.id_curso}));console.log(r[0]),t.enlaces=r[0].enlaces_plataformas},onError:function(){B.Notify.error("Error al crear enlace")}}):B.Notify.failure("Todos los campos son obligatorios")},data:t,entrarCurso:function(e){C.Inertia.visit(route("curso",e))}}}};const T=(0,r(3744).Z)(S,[["render",function(e,t,r,w,V,E){var C=(0,n.resolveComponent)("sbar"),k=(0,n.resolveComponent)("Button"),_=(0,n.resolveComponent)("Card"),g=(0,n.resolveComponent)("InputText"),y=(0,n.resolveComponent)("Column"),B=(0,n.resolveComponent)("DataTable"),S=(0,n.resolveComponent)("Dialog");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(C,{usuario:r.usuario},null,8,["usuario"]),r.usuario.cursos.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",o,[a,(0,n.createElementVNode)("div",l,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.usuario.cursos,(function(e){return(0,n.openBlock)(),(0,n.createBlock)(_,{key:e.id_curso,style:{width:"25em"}},{header:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("img",{class:"object-cover",src:"/"+e.foto.url},null,8,i)]})),title:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.plantilla.nombre)+" ",1),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["bg-green-500 rounded-lg p-2 text-base w-fit",""==e.usuarios.filter((function(e){return 2==e.id_rol})).map((function(e){return e.persona.nombre+" "+e.persona.apellido_p})).join(", ")?"bg-gray-500":""])},(0,n.toDisplayString)(""==e.usuarios.filter((function(e){return 2==e.id_rol})).map((function(e){return e.persona.nombre+" "+e.persona.apellido_p})).join(", ")?"Aún no tiene profesor":"Docente: "+e.usuarios.filter((function(e){return 2==e.id_rol})).map((function(e){return e.persona.nombre+" "+e.persona.apellido_p})).join(", ")),3),(0,n.createElementVNode)("div",{class:"bg-purple-500 w-fit text-base p-2 rounded-lg",onClick:function(t){return w.data.mostrarEnlaces=!0,w.data.enlaces=e.enlaces_plataformas,w.data.id_curso=e.id_curso}}," Enlaces ",8,s),(0,n.createElementVNode)("div",{class:"bg-orange-500 w-fit text-base p-2 rounded-lg",onClick:function(t){return w.data.mostrarParticipantes=!0,w.data.participantes=e.usuarios}}," Participantes ",8,u)])]})),content:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(e.plantilla.descripcion),1)]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(k,{label:"Ingresar",onClick:function(t){return w.entrarCurso(e.id_curso)}},null,8,["onClick"])]})),_:2},1024)})),128))])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",d,p)),(0,n.createVNode)(S,{header:"Enlaces",breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},modal:!0,visible:w.data.mostrarEnlaces,"onUpdate:visible":t[3]||(t[3]=function(e){return w.data.mostrarEnlaces=e})},{default:(0,n.withCtx)((function(){return[r.usuario.id_rol<3?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createElementVNode)("div",null,[f,(0,n.createVNode)(g,{placeholder:"Enlace de google",modelValue:w.data.nombre,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.data.nombre=e})},null,8,["modelValue"])]),(0,n.createElementVNode)("div",null,[b,(0,n.createVNode)(g,{placeholder:"https://www.google.com",modelValue:w.data.url,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.data.url=e})},null,8,["modelValue"]),(0,n.createElementVNode)("button",{class:"bg-green-500 p-2 rounded-lg",onClick:t[2]||(t[2]=function(){return w.crearEnlace&&w.crearEnlace.apply(w,arguments)})},"Crear")])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(B,{value:w.data.enlaces},{empty:(0,n.withCtx)((function(){return[h]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)(y,{header:"Nombre",field:"nombre"}),(0,n.createVNode)(y,{header:"URL",field:"url"},{body:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("a",{class:"text-blue-500",target:"_blank",href:e.data.url},(0,n.toDisplayString)(e.data.url),9,v)]})),_:1}),r.usuario.id_rol<3?((0,n.openBlock)(),(0,n.createBlock)(y,{key:0,field:"id_enlace_plataforma"},{body:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("button",{class:"bg-red-500 p-2 rounded-lg",onClick:function(t){return w.eliminarEnlace(e.data[e.field])}},"X ",8,x)]})),_:1})):(0,n.createCommentVNode)("",!0)]})),_:1},8,["value"])]})),_:1},8,["visible"]),(0,n.createVNode)(S,{header:"Participantes",breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},modal:!0,visible:w.data.mostrarParticipantes,"onUpdate:visible":t[4]||(t[4]=function(e){return w.data.mostrarParticipantes=e})},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(B,{value:w.data.participantes},{empty:(0,n.withCtx)((function(){return[N]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)(y,{header:"Persona",field:"persona"},{body:(0,n.withCtx)((function(e){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.data.persona.nombre)+" "+(0,n.toDisplayString)(e.data.persona.apellido_p),1)]})),_:1}),(0,n.createVNode)(y,{header:"Rol",field:"id_rol"},{body:(0,n.withCtx)((function(e){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.data.rol.nombre),1)]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["visible"])],64)}]])},7487:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(8222),o={class:"flex flex-wrap items-center justify-between w-full py-4 md:py-0 px-4 text-lg text-gray-700 bg-white"},a=(0,n.createElementVNode)("p",{class:"text-5xl"},"TUNOMBREAQUI",-1),l={class:"text-cyan-400"},i=[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)],c={class:"pt-4 text-base text-gray-700 md:flex md:justify-between md:pt-0"},s={key:0},u={class:"md:p-4 block"},d=(0,n.createElementVNode)("a",{class:"text-gray-700 hover:text-red-400"},"Admin",-1),p={class:"md:p-4 py-2 block"},m=(0,n.createElementVNode)("a",{class:"text-red-700 hover:text-red-400"},"Cerrar sesión",-1);r(4154),r(7647),r(8294);var f=r(2262),b=r(9680),h=r(7712),v=r(4325);history.pushState(null,document.title,location.href),window.addEventListener("popstate",(function(){history.pushState(null,document.title,location.href)}));const x={props:{usuario:{type:Object,default:{}}},components:{SplitButton:h.Z,Button:v.Z},setup:function(){var e=(0,n.ref)([{label:"Personas",command:function(){b.Inertia.visit(route("dashboard_adm_personas"))}},{label:"Usuarios",command:function(){b.Inertia.visit(route("dashboard_adm_usuarios"))}},{label:"Roles",command:function(){b.Inertia.visit(route("dashboard_adm_roles"))}},{label:"Crear Aulas",command:function(){b.Inertia.visit(route("dashboard_adm_cursos"))}},{label:"Notas Estudiantes",command:function(){b.Inertia.visit(route("dashboard_adm_notas_usuarios"))}}]);return{menuOptions:(0,f.qj)({show:!0}),redirectTo:function(e){b.Inertia.visit(route(e))},urlsAdmin:e}}};const N=(0,r(3744).Z)(x,[["render",function(e,t,r,f,b,h){var v=(0,n.resolveComponent)("Button"),x=(0,n.resolveComponent)("SplitButton");return(0,n.openBlock)(),(0,n.createElementBlock)("header",null,[(0,n.createElementVNode)("nav",o,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("a",{onClick:t[0]||(t[0]=function(e){return f.redirectTo("home")})},[a,(0,n.createElementVNode)("p",l," Bienvenido "+(0,n.toDisplayString)(r.usuario.persona.nombre),1)])]),((0,n.openBlock)(),(0,n.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"menu-button",onClick:t[1]||(t[1]=function(e){return f.menuOptions.show=!f.menuOptions.show}),class:"h-6 w-6 cursor-pointer md:hidden block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i)),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)("w-full md:flex md:items-center md:w-auto"+(f.menuOptions.show?" hidden":"")),id:"menu"},[(0,n.createElementVNode)("ul",c,[1==r.usuario.id_rol?((0,n.openBlock)(),(0,n.createElementBlock)("li",s,[(0,n.createElementVNode)("a",u,[(0,n.createVNode)(x,{model:f.urlsAdmin,class:"p-button-md p-button-text p-button-secondary"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(v,{onClick:t[2]||(t[2]=function(e){return f.redirectTo("dashboard-adm")})},{default:(0,n.withCtx)((function(){return[d]})),_:1})]})),_:1},8,["model"])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("li",null,[(0,n.createElementVNode)("a",p,[(0,n.createVNode)(v,{class:"p-button-md p-button-text p-button-secondary",onClick:t[3]||(t[3]=function(e){return f.redirectTo("logout")})},{default:(0,n.withCtx)((function(){return[m]})),_:1})])])])],2)])])}]])}}]);