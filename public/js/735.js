"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[735,776],{4735:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var o=n(8222),a={class:"text-center text-variable text-2xl"},l={class:"flex flex-col justify-center gap-2"},r=(0,o.createElementVNode)("p",{class:"text-variable"},"Nombre de la meta*",-1),i=(0,o.createElementVNode)("p",{class:"text-variable"},"Descripción de la meta*",-1),c=(0,o.createElementVNode)("p",{class:"text-variable"},"Fecha de inicio*",-1),s=(0,o.createElementVNode)("p",{class:"text-variable"},"Fecha final*",-1),d={class:"px-4 mt-2 flex flex-wrap gap-2"},u=(0,o.createElementVNode)("a",{class:"text-variable text-3xl mb-2"},"Metas del curso ",-1),m={class:"uppercase text-sky-400 text-3xl mb-2"},p={key:0,class:"px-4 mt-2"},f={class:"m-4"},v={class:"flex flex-row flex-wrap gap-4 justify-center"},h={class:"flex"},b={key:0,class:"flex flex-wrap gap-2 text-base justify-end"},V=["onClick"],x=["onClick"],k=["onClick"],N={key:1},E=[(0,o.createElementVNode)("p",{class:"text-center text-variable text-3xl mb-2"},"Aún no hay metas",-1)];var y=n(7776),_=n(8382),g=n(4325),w=n(6060),C=n(6076),B=n(8223),F=n(7915),S=n(1533),D=n(9680);S.Notify.init({zindex:100010,position:"center-bottom",clickToClose:!0});const I={layout:y.default,directives:{Tooltip:F.Z},components:{Calendar:B.Z,InputText:C.Z,Sidebar:w.Z,Button:g.Z,sbar:y.default,Card:_.Z},props:{usuario:{type:Object,required:!0},curso:{type:Object,required:!0}},setup:function(e){var t=(0,o.reactive)({visibleFull:!1,accion:"",nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",id_meta:""}),n=function(e){var t=e.split("/");return new Date(t[2],t[1]-1,t[0])};return{verMeta:function(e){D.Inertia.visit(route("contenido",e))},deleteMeta:function(t){S.Confirm.init({titleColor:"#FF0000",okButtonBackground:"#FF0000",titleMaxLength:"40"}),S.Confirm.show("¿Estás seguro de eliminar esta meta?","Estás por eliminar la meta "+t.plantilla.nombre,"Ok","Cancelar",(function(){D.Inertia.post(route("eliminar_meta"),{id_meta:t.id_meta},{onSuccess:function(t){S.Notify.success(t.props.flash.success),e.curso.metas=t.props.curso.metas},onError:function(e){for(var t in e)S.Notify.failure(e[t])}})}))},editarMeta:function(e){t.accion="Editar",t.visibleFull=!0,console.log(e),t.id_meta=e.id_meta,t.nombre=e.plantilla.nombre,t.descripcion=e.plantilla.descripcion,t.fecha_inicio=n(e.plantilla.fecha_inicio),t.fecha_fin=n(e.plantilla.fecha_fin)},submit:function(){if(t.nombre.length<3)S.Notify.warning("El nombre debe tener 3 caracteres como mínimo");else if(t.descripcion.length<3)S.Notify.warning("La descripción debe tener 3 caracteres como mínimo");else if(""!=t.fecha_inicio)if(""!=t.fecha_fin){var n={id_curso:e.curso.id_curso,id_meta:t.id_meta,nombre:t.nombre,descripcion:t.descripcion,fecha_inicio:t.fecha_inicio,fecha_fin:t.fecha_fin};D.Inertia.post(route("Añadir"==t.accion?"agregar_meta":"editar_meta"),n,{onSuccess:function(e){S.Notify.success(e.props.flash.success),t.visibleFull=!1},onError:function(e){for(var t in e)S.Notify.failure(e[t])}})}else S.Notify.warning("Debes elegir una fecha final");else S.Notify.warning("Debes elegir una fecha de inicio")},values:t}}};const M=(0,n(3744).Z)(I,[["render",function(e,t,n,y,_,g){var w=(0,o.resolveComponent)("InputText"),C=(0,o.resolveComponent)("Calendar"),B=(0,o.resolveComponent)("Sidebar"),F=(0,o.resolveComponent)("Button"),S=(0,o.resolveComponent)("Card"),D=(0,o.resolveDirective)("tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(B,{visible:y.values.visibleFull,"onUpdate:visible":t[5]||(t[5]=function(e){return y.values.visibleFull=e}),baseZIndex:1e4},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("h2",a,(0,o.toDisplayString)("Añadir"==y.values.accion?"Añade metas a este curso":"Estás editando una meta"),1),(0,o.createElementVNode)("form",{onSubmit:t[4]||(t[4]=(0,o.withModifiers)((function(){return y.submit&&y.submit.apply(y,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",l,[r,(0,o.createVNode)(w,{modelValue:y.values.nombre,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y.values.nombre=e}),placeholder:"Nombre"},null,8,["modelValue"]),i,(0,o.createVNode)(w,{modelValue:y.values.descripcion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y.values.descripcion=e}),placeholder:"Descripción"},null,8,["modelValue"]),c,(0,o.createVNode)(C,{dateFormat:"dd/mm/yy",modelValue:y.values.fecha_inicio,"onUpdate:modelValue":t[2]||(t[2]=function(e){return y.values.fecha_inicio=e}),placeholder:"Fecha de inicio"},null,8,["modelValue"]),s,(0,o.createVNode)(C,{dateFormat:"dd/mm/yy",modelValue:y.values.fecha_fin,"onUpdate:modelValue":t[3]||(t[3]=function(e){return y.values.fecha_fin=e}),placeholder:"Fecha final"},null,8,["modelValue"]),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["p-2 rounded-lg","Añadir"==y.values.accion?"bg-green-500":"bg-yellow-500"]),type:"submit"},(0,o.toDisplayString)(y.values.accion+" meta"),3)])],32)]})),_:1},8,["visible"]),(0,o.createElementVNode)("div",d,[u,(0,o.createElementVNode)("a",m,(0,o.toDisplayString)(" "+n.curso.plantilla.nombre),1),n.usuario.rol.id_rol<=2?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,icon:"pi pi-th-large",onClick:t[6]||(t[6]=function(e){return y.values.visibleFull=!0,y.values.accion="Añadir",y.values.nombre="",y.values.descripcion="",y.values.fecha_inicio="",y.values.fecha_fin=""})},null,512)),[[D,"Añade metas"]]):(0,o.createCommentVNode)("",!0)]),n.curso.metas.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",v,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.curso.metas,(function(e){return(0,o.openBlock)(),(0,o.createBlock)(S,{key:e.id_meta,style:{width:"25em"}},{title:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",h,(0,o.toDisplayString)(e.plantilla.nombre)+" - "+(0,o.toDisplayString)(e.plantilla.fecha_inicio+" | "+e.plantilla.fecha_fin),1),n.usuario.rol.id_rol<=2?((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[(0,o.createElementVNode)("button",{class:"bg-yellow-500 rounded-lg p-2",onClick:function(t){return y.editarMeta(e)}}," Editar ",8,V),(0,o.createElementVNode)("button",{class:"bg-red-500 rounded-lg p-2",onClick:function(t){return y.deleteMeta(e)}}," Eliminar ",8,x)])):(0,o.createCommentVNode)("",!0)]})),content:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.plantilla.descripcion),1)]})),footer:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("button",{class:"w-full bg-green-500 rounded-lg p-2",onClick:function(t){return y.verMeta(e.id_meta)}}," Ver tareas y foros ",8,k)]})),_:2},1024)})),128))])])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",N,E))],64)}]])},7776:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var o=n(8222),a={class:"flex flex-wrap items-center justify-between w-full py-4 md:py-0 px-4 text-lg text-gray-700 bg-white"},l=(0,o.createElementVNode)("p",{class:"text-5xl"},"TUNOMBREAQUI",-1),r={class:"text-cyan-400"},i=[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)],c={class:"pt-4 text-base text-gray-700 md:flex md:justify-between md:pt-0"},s={key:0},d={class:"md:p-4 block"},u=(0,o.createElementVNode)("a",{class:"text-gray-700 hover:text-red-400"},"Admin",-1),m={class:"self-center"},p={class:"md:p-4 py-2 block"},f=(0,o.createElementVNode)("a",{class:"text-red-700 hover:text-red-400"},"Cerrar sesión",-1),v=["href"];n(1645),n(8957),n(7887);var h=n(2262),b=n(9680),V=n(7712),x=n(4325),k=n(6663),N=n(7915);history.pushState(null,document.title,location.href),window.addEventListener("popstate",(function(){history.pushState(null,document.title,location.href)}));const E={directives:{Tooltip:N.Z},props:{usuario:{type:Object,default:{}}},components:{InputSwitch:k.Z,SplitButton:V.Z,Button:x.Z},setup:function(){var e=(0,o.ref)([{label:"Personas",command:function(){b.Inertia.visit(route("dashboard_adm_personas"))}},{label:"Usuarios",command:function(){b.Inertia.visit(route("dashboard_adm_usuarios"))}},{label:"Roles",command:function(){b.Inertia.visit(route("dashboard_adm_roles"))}},{label:"Crear Aulas",command:function(){b.Inertia.visit(route("dashboard_adm_cursos"))}},{label:"Notas Estudiantes",command:function(){b.Inertia.visit(route("dashboard_adm_notas_usuarios"))}}]),t=(0,h.qj)({show:!0});return{data:(0,h.qj)({dark:!0}),menuOptions:t,redirectTo:function(e){b.Inertia.visit(route(e))},urlsAdmin:e}}};const y=(0,n(3744).Z)(E,[["render",function(e,t,n,h,b,V){var x=(0,o.resolveComponent)("Button"),k=(0,o.resolveComponent)("SplitButton"),N=(0,o.resolveComponent)("InputSwitch"),E=(0,o.resolveDirective)("tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("header",null,[(0,o.createElementVNode)("nav",a,[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("a",{onClick:t[0]||(t[0]=function(e){return h.redirectTo("home")})},[l,(0,o.createElementVNode)("p",r," Bienvenido "+(0,o.toDisplayString)(n.usuario.persona.nombre),1)])]),((0,o.openBlock)(),(0,o.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"menu-button",onClick:t[1]||(t[1]=function(e){return h.menuOptions.show=!h.menuOptions.show}),class:"h-6 w-6 cursor-pointer md:hidden block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i)),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)("w-full md:flex md:items-center md:w-auto"+(h.menuOptions.show?" hidden":"")),id:"menu"},[(0,o.createElementVNode)("ul",c,[1==n.usuario.id_rol?((0,o.openBlock)(),(0,o.createElementBlock)("li",s,[(0,o.createElementVNode)("a",d,[(0,o.createVNode)(k,{model:h.urlsAdmin,class:"p-button-md p-button-text p-button-secondary"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(x,{onClick:t[2]||(t[2]=function(e){return h.redirectTo("dashboard-adm")})},{default:(0,o.withCtx)((function(){return[u]})),_:1})]})),_:1},8,["model"])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("li",m,[(0,o.withDirectives)((0,o.createVNode)(N,{modelValue:h.data.dark,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.data.dark=e})},null,8,["modelValue"]),[[E,h.data.dark?"Modo light":"Modo dark",void 0,{bottom:!0}]])]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("a",p,[(0,o.createVNode)(x,{class:"p-button-md p-button-text p-button-secondary",onClick:t[4]||(t[4]=function(e){return h.redirectTo("logout")})},{default:(0,o.withCtx)((function(){return[f]})),_:1})])])])],2)])]),(0,o.createElementVNode)("link",{href:h.data.dark?"/css/dark.css":"/css/light.css",rel:"stylesheet"},null,8,v),(0,o.createElementVNode)("article",null,[(0,o.renderSlot)(e.$slots,"default")])],64)}]])}}]);